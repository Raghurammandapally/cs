<content for="title">CS 367, Programming Assignment 2</content>

<content for="top">
<h2>CS 367 Programming Assignment 2</h2>
<font size="+1" color="#990000"><b>DUE by 10:00 PM on Friday, March 15th</b><br></font>

<br>
<a href="#Announcements">P2 Announcements</a> |
<a href="#Overview">Overview</a> |
<a href="#Specifications">Specifications</a> |
<a href="#Steps">Steps</a> |
<a href="#Submission">Submission</a>
</content>


<content for="main">

<div class="announcements">

<a name="Announcements"></a>
<h2>P2 Announcements</h2>

<p>Corrections, clarifications, and other announcements regarding this programming assignment will be found below.</p>

<ul>
  <li><b>3/5/2013:</b> Corrected <tt>ListNode</tt> constructor specifications to match the given file.</li>
  <li><b>2/25/2013:</b> Program 2 assigned.</li>
</ul>


</div>
<div>

<a name="Overview"></a>
<h2>Overview</h2>

<h3>Goals</h3>

<p>The goals of this assignment are to:</p>
<ul>
  <li>Understand and implement a singly-linked chain of nodes.</li>
  <li>Gain experience working with Java references (i.e., pointers).</li>
  <li>Implement exceptions.</li>
  <li>Gain experience writing classes which implement Java interfaces.</li>
  <li>Develop an application that processes input commands.</li>
  <li>Get more practice with console and file I/O.</li>
</ul>

<h3>Description</h3>

<p>For this assignment, you'll write a program to represent a queue of movies,
similar to a Netflix Queue. Movies to be watched are removed from the front of
the queue and new movies chosen by the user are added to the end of the queue.
Movies will be represented just by their titles using Strings (see below for an
example).</p>

You'll write a main class as your application as was done in
<a href="?r=programs&programNumber=1">Program 1</a>. Additionally, you'll write
a LinkedList class that is used by your application to implement the movie queue.
Your main class prompts the user to choose an operation that manipulates the movie
queue (specified below).</p>

<!--
<p>It is typical for today's programmers to use ADTs that are already
    implemented as part of a class library (e.g., C++ Standard Template Library)
    or an API (e.g., Java's Application Program Interface).  Understanding ADT <i>implementations</i>
    is still important to be able to make informed
    choices as to which ADT implementation is best suited for an application
    in terms of memory and time efficiencies. For example, knowing the tradeoffs
    between array and linked implementations of the <tt>List</tt> ADT helps us
    choose between Java's <tt>ArrayList</tt> and <tt>LinkedList</tt> classes. It is also
    important to be able to implement your own data structures
  when pre-built ones are not available or when standard ADTs (and their
  operations) are unsuitable for the intended application.</p>
-->

<p>Your LinkedList class must implement the ListADT interface using a singly-linked
chain of nodes. You'll also implement an exception class used by your LinkedList to
signal problems.</p>
  

</div>
<div>

<a name="Specifications"></a>
<h2>Specifications</h2>
      

<h3>The <tt>ListADT&lt;E&gt;</tt> interface</h3>

<p>A <tt>ListADT&lt;E&gt;</tt> interface is provided for you
(see <a href="assignments/p2/files/ListADT.java"><tt>ListADT.java</tt></a>).
The <tt>ListADT&lt;E&gt;</tt> interface is a generic interface that you will implement
in your implementation of a <tt>LinkedList</tt>.
The interface describes the following methods, which you will implement in your <tt>LinkedList</tt>
class.</p>

<table border="1" cellpadding="2" cellspacing="0">
<tbody>
  <tr>
    <th>Method</th>
    <th>Description</th>
  </tr>
  <tr>
    <td><tt>void add(E item)</tt></td>
    <td>Adds the given item to the end of the list.</td>
  </tr>
  <tr>
    <td><tt>void add(int pos, E item)</tt></td>
    <td>Adds the given item to the specified position in the list.
		Throws an <tt>InvalidListPositionException</tt> if the position is invalid.
	</td>
  </tr>
  <tr>
    <td><tt>E remove(int pos)</tt></td>
    <td>Removes the item at the specified position in the list.
	    Returns the item that was removed.
		Throws an <tt>InvalidListPositionException</tt> if the position is invalid.
	</td>
  </tr>
  <tr>
    <td><tt>E get(int pos)</tt></td>
    <td>Returns the item at the given position in the list.
		Throws an <tt>InvalidListPositionException</tt> if the position is invalid.
	</td>
  </tr>
  <tr>
    <td><tt>boolean isEmpty()</tt></td>
    <td>Returns whether or not the list is empty.</td>
  </tr>
  <tr>
    <td><tt>int size()</tt></td>
    <td>Returns how many nodes are in the list.</td>
  </tr>
</tbody>
</table>

<p><font color="red">Do <b><em>not</em></b> modify the <tt>ListADT</tt> interface in any way.</font></p>


<h3>The <tt>ListNode&lt;E&gt;</tt> class</h3>

<p>The <tt>ListNode&lt;E&gt;</tt> class represents one node of a <tt>LinkedList</tt>. This class is 
also provided for you (see <a href="assignments/p2/files/ListNode.java"><tt>ListNode.java</tt>)</a>.
It has the following methods and constructor:</p>

<table border="1" cellspacing="0" cellpadding="2">
<tbody>
  <tr>
    <th width="40%">Constructor</th>
    <th width="60%">Description</th>
  </tr>
  <tr>
    <td><tt>ListNode&lt;E&gt;(E data)</tt></td>
    <td>Constructs a <tt>ListNode&lt;E&gt;</tt> with the specified data and a
		null pointer to its next node.</td>
  </tr>
  <tr>
    <td><tt>ListNode&lt;E&gt;(E data, ListNode&lt;E&gt; next)</tt></td>
    <td>Constructs a <tt>ListNode&lt;E&gt;</tt> with the specified data
	and a pointer to the specified next node.</td>
  </tr>
  <tr>
    <th>Method</th>
    <th>Description</th>
  </tr>
  <tr>
    <td><tt>E getData()</tt></td>
    <td>Returns the data stored in this node.</td>
  </tr>
  <tr>
    <td><tt>ListNode&lt;E&gt; getNext()</tt></td>
    <td>Returns the <tt>ListNode&lt;E&gt;</tt> that comes after this <tt>ListNode&lt;E&gt;</tt>. Returns null if this node does not have a next node.</td>
  </tr>
  <tr>
    <td><tt>void setData(E data)</tt></td>
    <td>Sets the data stored in this node to the specified item.</td>
  </tr>
  <tr>
    <td><tt>void setNext(ListNode&lt;E&gt; prev)</tt></td>
    <td>Sets the next node to point to the given <tt>ListNode&lt;E&gt;</tt>.</td>
  </tr>
</tbody>
</table>
<p><font color="red">Do <b><em>not</em></b> modify the <tt>Listnode</tt> class in any way.</font></p>


<h3>The <tt>LinkedList&lt;E&gt;</tt> class</h3>

<p>You will write the <tt>LinkedList&lt;E&gt;</tt> class to implement the
<tt>ListADT&lt;E&gt;</tt> interface. In addition to implementing each method in the
<tt>ListADT&lt;E&gt;</tt> interface also implement the following method.</p>

<table border="1" cellspacing="0" cellpadding="2">
<tbody>
  <tr>
    <th width="40%">Method</th>
    <th width="60%">Description</th>
  </tr>
  <tr>
    <td><tt>String print(boolean lineNumbers)</tt></td>
	<td>Returns a String containing the contents of the list formatted as follows:<br/><br/>
	If the flag <tt>lineNumbers</tt> is false, each movie title should be on its own line, i.e.:
	<blockquote>
	MovieTitle1<br/>
	MovieTitle2<br/>
	...<br/>
	MovieTitleN<br/>
	</blockquote>
	Otherwise, each movie title should be on its own line, preceded by its line number, i.e.:
	<blockquote>
	1 MovieTitle1<br/>
	2 MovieTitle2<br/>
	...<br/>
	N MovieTitleN<br/>
	</blockquote></td>
  </tr>
</tbody>
</table>


<h3>The <tt>InvalidListPositionException</tt> class</h3>

<p>You will write an exception class to be used by your implementation of a <tt>LinkedList</tt>
to signal when an invalid position is given to your LinkedList. This class should be a checked 
exception. You may write any constructors and methods you deem necessary for this class.</p>


<h3>The <tt>MovieQueueMain</tt> class</h3>

<p>The application program, <tt>MovieQueueMain</tt>, creates and uses an
<tt>LinkedList&lt;E&gt;</tt> to represent and process a movie queue.
 You will write code for each of the options
listed below. Your code should make use of the <tt>LinkedList</tt> and <tt>InvalidListPositionException</tt> classes you have written, where appropriate.</p>

<p>The
<a href="assignments/p2/files/MovieQueueMain.java"><tt>MovieQueueMain.java</tt></a>
file contains the outline of the <tt>MovieQueueMain</tt> class. Download this file
and use it as the starting point for your <tt>MovieQueueMain</tt>
implementation.</p>


<a name="main"></a>

<p>For this program, you'll access movie genre files when given either of the the
'l' or 'a' commands described below. You won't be using command-line arguments
for file access as you did in <a href="?r=programs&programNumber=1">Program 1</a>. The
movie database from which the user selects movies to add to their movie queue will be
represented using multiple text files, with one text file per movie genre, i.e.: comedy, drama,
action, horror, family, etc. Each text file will have movie titles pertaining to its particular
genre and organized one title per line.</p>

<p>The command options are:</p>   
<table border="1" cellpadding="2" cellspacing="0">
<tbody>
  <tr>
    <th width="15%">Command format</th>
    <th width="85%">Description</th>
  </tr>
  <tr>
    <td align="center"><tt>a <i>genre</i></tt></td>
    <td><b>A</b>dd a movie to the movie queue from a database of movies of the given genre.
	The genre will be one of the following: comedy, drama, action, horror, family. Your program will
	then open and read from the file with the name <i>genre</i>.txt (e.g., horror.txt or action.txt),
        which will be a list of
	movie titles in that genre, one per line. Each movie title should be printed, one per line, in 
	the following format:
	<blockquote>
	1 MovieTitle1<br/>
	2 MovieTitle2<br/>
	...<br/>
	N MovieTitleN<br/>
	</blockquote>
	After the movie titles have been printed in order, print "<tt>Please enter a number between 1 and N</tt>", 
	where N is the number of movies in the genre. Read the number entered by the user. If it is an invalid number 
	(not an integer, or an integer less than 1 or greater than N),
	repeat the prompt until a valid number is received. The movie corresponding to this number
	should then be added to the end of the movie queue. Once added, print: "<tt>Added <i>title</i> to queue.</tt>"
	where <i>title</i> is the title of the movie added to the queue.
	<p>If the file specified by <tt><i>genre</i></tt>.txt does not exist or is not readable, print
	"<tt>Cannot find the specified file.</tt>"
    </td>
  </tr>
  <tr>
     <td align="center"><tt>c <i>line#</i></tt></td>
     <td><b>C</b>opies the line at <tt><i>line#</i></tt> to the <i>end</i> of the movie queue, and
	 print "<tt>Copied <i>title</i> to end of queue.</tt>", where <i>title</i> is the title of the copied movie.
	 <b>This does not remove the line at <i>line#</i></b>. If an InvalidListPositionException is thrown, 
	 or if the argument is not an int, print "<tt>Invalid line number.</tt>"
	 </td>
  </tr>
  <tr>
    <td align="center"><tt>l <i>fileName</i></tt></td>
    <td><b>L</b>oad the movie queue from the given file. First empty your old movie queue (or create a new one). 
	Then read in from the file
	line by line until the end of the file is reached. Each of these lines
	should be stored as one movie in your queue. If the file cannot be found, display
	"<tt>Cannot find the specified file.</tt>" Once the file is successfully stored in the queue,
	print the queue with line numbers.
	</td>
  </tr>
  <tr>
    <td align="center"><tt>m <i>line#</i></tt></td>
	<td><b>M</b>ove the movie at position <tt><i>line#</i></tt> to the <i>front</i> of the movie queue, and print
	"<tt>Moved <i>title</i> to front of queue.</tt>", where <i>title</i> is the title of the movie that was moved.
	This <i>does</i> remove the movie from its original position.
	If an InvalidListPositionException is thrown,
    or if the argument is not an int, print  "<tt>Invalid line number.</tt>"</td>
  </tr>
  <tr>
    <td align="center"><tt>p</tt></td>
    <td><b>P</b>rint the movie queue in the format specified by the <tt>LinkedList</tt>'s <tt>print()</tt> method.
	You <i>should</i> print line numbers (set the <tt>lineNumbers</tt> flag to true). If the queue is empty, print
	"<tt>Empty.</tt>"
    </td>
  </tr>  
  <tr>
    <td align="center"><tt>r <i>line#</i></tt></td>
    <td>
	<b>R</b>emove the specified movie from the list, and print "<tt>Removed <i>title</i> from queue.</tt>",
	where <i>title</i> is the title of the movie that was removed. If an InvalidListPositionException is thrown,
	 or if the argument is not an int, print "<tt>Invalid line number.</tt>"
	</td>
  </tr>
  <tr>
    <td align="center"><tt>s <i>fileName</i></tt></td>
    <td>
	<b>S</b>ave the movie queue to the specified fileName and print "<tt>Saved.</tt>" This file should be saved in the format returned by
	the <tt>print</tt> method in the <tt>LinkedList</tt> class. You should not save line
	numbers (set the <tt>lineNumbers</tt> flag to false). If the specified file cannot be written to, print,
	"<tt>Cannot write to the specified file.</tt>" If the movie queue is currently empty, print, 
	"<tt>Cannot write to file, movie queue is empty.</tt>"
	</td>
  <tr>
    <td align="center"><tt>w <i>amount</i></tt></td>
    <td>Mark the first <i><tt>amount</tt></i> movies in the list as <b>w</b>atched (i.e., remove them from the queue). If
	<i><tt>amount</tt></i> is greater than the number of movies currently in the queue, remove all movies in the queue.
	Print "<tt>Removed first <i>numMovies</i> movies from queue.</tt>", where <i>numMovies</i> is the number of movies that were
	actually removed from the queue.
	If <i><tt>amount</tt></i> is not an integer or is less than or 
equal to zero, 
print 
"<tt>Invalid number of movies.</tt>"</td>
  </tr>
  <tr>
     <td align="center"><tt>x</tt></td>
     <td>Display &quot;<tt>exit</tt>&quot; and e<b>x</b>it the program. This
     command has already been implemented for you.</td>
  </tr>
</tbody>
</table>

</div>
<div>

<a name="Steps"></a>
<h2>Steps</h2>

<p>After you have read this program page and given thought to the problem
we suggest the following steps:</p>

<ol>
  <li>If you are working with a partner, review the
      <a href="?r=coursework#pp">rules for pair programming</a>.</li>
  <li>Review these <a href="?r=styleGuide">style</a> and
      <a href="?r=commentingGuide">commenting</a> standards that are used to
      evaluate your program.</li>
  <li>You may use the Java development environment of your choice in CS 367.
      <em><b>However, all programs must compile and run on the lab computers
      for grading.</b></em> If you are going to use the CS
      <a href="?r=computerLabs">lab computers</a>, we recommend that you use
      Eclipse. You may want to review the
      <a href="http://pages.cs.wisc.edu/%7Ecs302/labs/EclipseTutorial/" target="_tab">Eclipse
      tutorial</a> to learn the basics. Note that on the Linux lab computers,
      you should enter "<tt>eclipse&amp;</tt>" at the prompt instead of what
      is described in the tutorial.</li>
  <li>Download the following to your programming assignment 2 directory:
      <ul>
        <li><a href="assignments/p2/files/ListNode.java"><tt>ListNode.java</tt></a></li>
        <li><a href="assignments/p2/files/ListADT.java"><tt>ListADT.java</tt></a></li>
        <li><a href="assignments/p2/files/MovieQueueMain.java"><tt>MovieQueueMain.java</tt></a></li>
      </ul>
  </li>
  <li>Implement and thoroughly test your <tt>LinkedList&lt;E&gt;</tt> class and any
      additional supporting classes, including your <tt>InvalidListPositionException</tt> class.</li>
  <li>Incrementally implement the <tt>MovieQueueMain</tt> class as specified in
      the <a href="#main">main program section</a> above. Test each step to
      ensure your program is working correctly before implementing the next
      step. Create a small text file for testing (it will be easier to debug
      than larger ones) and make sure you test all the boundary and negative
      cases as well as the positive cases.  
      <a name="InputFiles"></a> <em>Download these sample genre files,
      <a href="assignments/p2/files/action.txt">action.txt</a> and 
	  <a href="assignments/p2/files/drama.txt">drama.txt</a>, and follow the
	  steps in the <a href="assignments/p2/files/sampleOutput.txt">sampleOutput.txt</a>
      and make sure your program produces the <b>exact same</b> output.</em>
	  Note that <a href="assignments/p2/files/sampleOutput.txt">sampleOutput.txt</a>
	  contains two separate runs of the program. The second run loads in the queue 
	  saved in the first run, and prints it. Make sure your program is able to 
	  do this also.</li>
      <p>There are two additional sample genre files for you to use for testing if you need
      more: <a href="assignments/p2/files/comedy.txt">comedy.txt</a> and 
      <a href="assignments/p2/files/family.txt">family.txt</a>. Feel free to download these
      and test your program on them as well.</p> 
  <li>If you are not using the lab computers to develop your program, make
      sure you compile and run your program to ensure that it works on the
      Linux lab computers. You can compile your Java source using <tt>javac</tt>
      in a terminal window as in this example: <dir><tt>javac *.java</tt></dir>
      and the run your program using <tt>java</tt> as in:

      <dir><tt>java MovieQueueMain</tt></dir></li>

  <li>Submit your work for grading.</li>
</ol>


</div>
<div>

<a name="Submission"></a>
<h2>Submitting Your Work</h2>

<p>Make sure your code follows the <a href="?r=styleGuide">style</a> and
<a href="?r=commentingGuide">commenting</a> standards used in CS 302 and
CS 367.</p>

<p><a href="?r=coursework#Handin">Electronically submit</a> the following file
to your <b><tt>in</tt></b> "handin" directory by the due date and time (or
refer to the <a href="?r=coursework#Late">late policy</a>):</p>

<ul>
  <li>"<tt>MovieQueueMain.java</tt>" containing your movie queue 
processing application,</li>
  <li>"<tt>LinkedList.java</tt>" containing your implementation of the <tt>LinkedList&lt;E&gt;</tt> class,
  <li>"<tt>InvalidListPositionException.java</tt>" containing your implementation of the 
  <tt>InvalidListPositionException</tt>" class, and</li>
  <li>"<tt>*.java</tt>" additional classes that you've implemented for your program.</li>
  <br />
  <li>If you are working with a partner, only one partner submits the program 
      files, but <b>both partners must submit to his/her own hand-in directory
      a completed
      <a href="assignments/README.txt"><tt>README.txt</tt></a> file.</b>
      Students working in pairs must follow the 
      <a href="?r=coursework#pp">rules for pair programming</a>.</li>
</ul>

<p><em><b>Please turn in only the files named above.</b></em> Extra files 
clutter up the "handin" directories.</p>

</div>
</content>
