<!--
  Programming Assignment 2 Write-up
  Version: 0.8
  Date Changed: 10/3/14
  Last Edited By: Jim
  
  Change Log:
    9/23/14  Initial version created for review
    9/28/14  Several iterations later... 
    10/1/14  updated dates and did some rewording
    10/3/14  final review and release
	10/16/14 update files to add timeline and tweet
-->
<content for="title">CS 367 p2</content>

<content for="top">
<h2>CS 367 Programming Assignment 2</h2>
<font size="+1" color="#990000"><b>DUE by 10:00 PM on Sunday, October 19</b><br></font>

<br>
<a href="#Announcements">p2 Announcements</a> |
<a href="#Overview">Overview</a> |
<a href="#Specifications">Specifications</a> |
<a href="#Steps">Steps</a> |
<a href="#Submission">Submission</a>
</content>


<content for="main">

<div class="announcements">

<a name="Announcements"></a>
<h2>p2 Announcements</h2>

<p>Corrections, clarifications, and other announcements regarding this programming assignment will be found below.</p>

<ul>
  <li><b>10/3/2014:</b> Program p2 assigned.</li>
</ul>


</div>
<div>

<a name="Overview"></a>
<h2>Overview</h2>

<h3>Goals</h3>

<p>The goals of this assignment are to:</p>
<ul>
  <li>Understand and implement a  doubly-linked chain of nodes.</li>
  <li>Gain experience writing classes that implement Java interfaces.</li>
  <li>Gain experience working with Java references.</li>
  <li>Implement exceptions.</li>
  <li>Develop an application that processes input commands as words.</li>
  <li>Get more practice with console and file I/O.</li>
</ul>

<h3>Description</h3>

<p>Twitter is a popular social media platform that allows registered users
to post "tweets" (short messages of 140 characters or less) to their account.  
A Twitter user can create a list of other users whose tweets they want to receive,
 which in Twitter terms is "following a user".
Twitter takes this list and creates a timeline of the all the tweets of followed
users in a single, chronologically sorted list, called a "timeline".</p>

<p>For this assignment, you'll write a program that simulates the basic user
experience of Twitter. The main program will be given, as command-line arguments,
a list of files, each contain the tweets of different Twitter user. These files are
loaded into the program and then are used to generate a timeline based on
the operations performed by the program's user.</p>


<p>You'll write a main class as your application as was done in 
<a href="?r=programs&programNumber=1">Program 1</a>. Additionally, you'll write 
a <tt>SimpleLinkedList</tt> class that is used to 
build a timeline made up of tweets from followed users. Your main class
prompts the user to choose operations that manipulate the timeline.</p>


<p>Your <tt>SimpleLinkedList</tt> class must implement the <tt>ListADT</tt> interface
using a doubly-linked chain of nodes. You'll also implement a <tt>TweetTooLongException</tt>
class used by your program to signal and handle problems when a tweet has
too many characters.</p>
  

</div>
<div>

<a name="Specifications"></a>
<h2>Specifications</h2>
      

<h3>The <tt>ListADT&lt;E&gt;</tt> Interface and the <tt>SimpleLinkedList&lt;E&gt;</tt> Class</h3>

<p>A <tt>ListADT&lt;E&gt;</tt> interface, provided to you
(see <a href="assignments/p2/files/ListADT.java"><tt>ListADT.java</tt></a>),
is a generic interface that you will implement in your <tt>SimpleLinkedList</tt>
class. The interface describes the following methods:</p>

<table border="1" cellpadding="2" cellspacing="0">
<tbody>
  <tr>
    <th>Method</th>
    <th>Description</th>
  </tr>
  <tr>
    <td><tt>void add(E item)</tt></td>
    <td>Adds <tt>item</tt> to the end of the List.
    </td>
  </tr>
  <tr>
    <td><tt>void add(int pos,E item)</tt></td>
    <td>Adds <tt>item</tt> at position <tt>pos</tt> in the List, moving the items originally in
    positions <tt>pos</tt> through <tt>size() - 1</tt> one place to the right to make room.
    </td>
  </tr>
  <tr>
    <td><tt>boolean contains(E item)</tt></td>
    <td>Returns true iff item is in the List (i.e., there is an item x in the List 
    such that x.equals(item))
    </td>
  </tr>
  <tr>
    <td><tt>E get(int pos)</tt></td>
    <td>Returns the item at position <tt>pos</tt>   in the List.
    </td>
  </tr>
  <tr>
    <td><tt>boolean isEmpty()</tt></td>
    <td>Returns true iff the List is empty.</td>
  </tr>
  <tr>
    <td><tt>E remove(int pos)</tt></td>
    <td>Removes and returns the item at position <tt>pos</tt> in the List, moving the items
        originally in positions pos+1 through size() - 1 one place to the left to
        fill in the gap.
    </td>
  </tr>
  <tr>
    <td><tt>int size()</tt></td>
    <td>Return the number of items in the List.</td>
  </tr>
</tbody>
</table>

<p><font color="red">Do <b><em>not</em></b> modify the <tt>ListADT</tt> interface in any way.<br></font>
<font color="red">Do <b><em>not</em></b> add any public methods to your <tt>SimpleLinkedList</tt>
class other than those in the <tt>ListADT</tt> interface and do not add any public fields.</font>
Your <tt>SimpleLinkedList</tt> class must implement its own data structure using a doubly-linked chain
of <tt>DblListnodes</tt> rather than using any of Java's prebuilt classes such as <tt>LinkedList</tt>.</p>


<h3>The <tt>DblListnode&lt;E&gt;</tt> Class</h3>

<p>The <tt>DblListnode&lt;E&gt;</tt> class represents one node of a <tt>SimpleLinkedList</tt>. This class is 
also provided to you (see <a href="assignments/p2/files/DblListnode.java"><tt>DblListnode.java</tt>)</a>.
It has the following methods and constructors:</p>

<table border="1" cellspacing="0" cellpadding="2">
<tbody>
  <tr>
    <th width="40%">Constructor</th>
    <th width="60%">Description</th>
  </tr>
  <tr>
    <td><tt>DblListnode&lt;E&gt;(E data)</tt></td>
    <td>Constructs a <tt>DblListnode&lt;E&gt;</tt> with <tt>data<tt> and a
        null reference to its previous and next nodes.</td>
  </tr>
  <tr>
    <td><tt>DblListnode&lt;E&gt;(E data, DblListnode&lt;E&gt; prev, DblListnode&lt;E&gt; next)</tt></td>
    <td>Constructs a <tt>DblListnode&lt;E&gt;</tt> with <tt>data</tt>
    and references to <tt>prev</tt> and <tt>next</tt> nodes.</td>
  </tr>
  <tr>
    <th>Method</th>
    <th>Description</th>
  </tr>
  <tr>
    <td><tt>E getData()</tt></td>
    <td>Returns the data stored in this node.</td>
  </tr>
  <tr>
    <td><tt>DblListnode&lt;E&gt; getNext()</tt></td>
    <td>Returns the <tt>DblListnode&lt;E&gt;</tt> that comes after this <tt>DblListnode&lt;E&gt;</tt>.
    Returns null if this node does not have a next node.</td>
  </tr>
  <tr>
    <td><tt>DblListnode&lt;E&gt; getPrev()</tt></td>
    <td>Returns the <tt>DblListnode&lt;E&gt;</tt> that comes before this <tt>DblListnode&lt;E&gt;</tt>.
    Returns null if this node does not have a previous node.</td>
  </tr>
  <tr>
    <td><tt>void setData(E data)</tt></td>
    <td>Sets the data stored in this node to <tt>data</tt>.</td>
  </tr>
  <tr>
    <td><tt>void setNext(DblListnode&lt;E&gt; next)</tt></td>
    <td>Sets the next node to reference <tt>next</tt> <tt>DblListnode&lt;E&gt;</tt>.</td>
  </tr>
  <tr>
    <td><tt>void setPrev(DblListnode&lt;E&gt; prev)</tt></td>
    <td>Sets the previous node to reference <tt>prev</tt> <tt>DblListnode&lt;E&gt;</tt>.</td>
  </tr>
</tbody>
</table>
<p><font color="red">Do <b><em>not</em></b> modify the <tt>DblListnode</tt> class in any way.</font></p>

<h3>The <tt>Tweet</tt> Class</h3>

<p>The <tt>Tweet</tt> class represents a single Tweet from a user. A
 shell of this class is also provided for you 
(see <a href="assignments/p2/files/Tweet.java"><tt>Tweet.java</tt></a>).
It has the following methods and constructor:</p>

<table border="1" cellspacing="0" cellpadding="2">
<tbody>
  <tr>
    <th width="40%">Constructor</th>
    <th width="60%">Description</th>
  </tr>
  <tr>
    <td><tt>Tweet(int time, String message, String user)</tt></td>
    <td>Constructs a <tt>Tweet</tt> for <tt>user</tt> with <tt>message</tt>
        at <tt>time</tt>. Throws a TweetTooLongException if message over 140 characters.</td>
  </tr>
  <tr>
    <th>Method</th>
    <th>Description</th>
  </tr>
  <tr>
    <td><tt>String getMessage()</tt></td>
    <td>Returns the stored message of the Tweet.</td>
  </tr>
  <tr>
    <td><tt>int getTime()</tt></td>
    <td>Returns the time a Tweet was tweeted</td>
  </tr>
  <tr>
    <td><tt>String getUser()</tt></td>
    <td>Returns the user who tweeted the Tweet.</td>
  </tr>
  <tr>
    <td><tt>void print()</tt></td>
    <td>Print the Tweet with the following format: &lt;TIME&gt; &lt;USER&gt;:&lt;MESSAGE&gt;.
    For example, "1 Chris:Hello, Worlds" would be printed for a Tweet at time 1, by user 
	Chris, with message "Hello, Worlds" </td>
  </tr>
</tbody>
</table>
<p><font color="red">Do <b><em>not</em></b> add any public methods or fields to the <tt>Tweet</tt> class.</font></p>

<h3>The <tt>TweetTooLongException</tt> Class</h3>

<p>Code a <i>checked</i> exception class to be used by your implementation of <tt>Tweet</tt>
to signal when a Tweet is too long to be constructed. You may write any constructors and
methods you deem necessary for this class. Your main program should catch any lines
in the file that are too long and not add them to a user's list of tweets.
</p>

<h3>The <tt>Timeline</tt> Class</h3>

<p>The <tt>Timeline</tt> class should use your <tt>SimpleLinkedList</tt> class to build a 
time ordered list of  tweets from users you follow. Tweets with lower Time fields should come 
earlier in the list. A shell of this class is 
also provided for you (see <a href="assignments/p2/files/Timeline.java"><tt>Timeline.java</tt>)</a>,
you must implement all the methods. 
</p>

<p><b>Time Format:</b> For simplicity, time values are positive integers. Instead of saving the
absolute date and time of a tweet, we only keep track of relative time since the tweets were
generated. For example, a time value of 4 should be interpreted to mean that this tweet was
created 4 minutes since your <tt>Twitter</tt> main program was started, and a time value of
55 represents that the tweet occurred 55 minutes since the your main program started. Because
the time values are relative to a fixed "current time" of when your program starts, older
tweets have higher integer values, since they happened longer in the past.  Also for simplicity,
assume that no two tweets occur at the same time and user files are already be ordered from
the most recent to least recent tweet.  Make sure your Timeline class correctly orders tweets
so that newer Tweets are closer to the front of the list.</p>

<p>Timeline has the following methods and constructor:</p>

<table border="1" cellspacing="0" cellpadding="2">
<tbody>
  <tr>
    <th width="40%">Constructor</th>
    <th width="60%">Description</th>
  </tr>
  <tr>
    <td><tt>Timeline()</tt></td>
    <td>Constructs an empty <tt>Timeline</tt>
    </td>
  </tr>
  <tr>
    <th>Method</th>
    <th>Description</th>
  </tr>
  <tr>
    <td><tt>void add(Tweet tweet)</tt></td>
    <td>Adds a single <tt>tweet</tt> to the timeline </td>
  </tr>
  <tr>
    <td><tt>void add(List&lt;Tweet&gt; tweets)</tt></td>
    <td>Adds the ordered list of <tt>tweets</tt> to the timeline</td>
  </tr>
  <tr>
    <td><tt>void remove(String user)</tt></td>
    <td>Removes all tweets by <tt>user</tt> from the timeline.</td>
  </tr>
  <tr>
    <td><tt>void print()</tt></td>
    <td>Print each tweet in the timeline on it's own line.</td>
  </tr>
  <tr>
    <td><tt>void print(int time)</tt></td>
    <td>Print each tweet since <tt>time</tt> in the timeline on it's own line.</td>
  </tr>
  <tr>
    <td><tt>Timeline search(String keyword)</tt></td>
    <td>Create a new Timeline containing only tweets containing <tt>keyword</tt>.</td>
  </tr>
</tbody>
</table>
<p><font color="red">Do <b><em>not</em></b> add any public methods or fields to the <tt>Timeline</tt> class.</font></p>


<a name="main"></a>
<h3>The <tt>Twitter</tt> Main Class</h3>

<p>The application program, <tt>Twitter</tt>, reads in each user file listed on
the command line. These files will contain the tweets of followed Twitter users
in the format specified below. Assume initially all users are followed.
This program creates a list of users you follow and their associated list of Tweets, and
also creates and uses a <tt>Timeline</tt> object to represent and simulate the time
line.</p>

<p><b>File Format:</b> The files are named with the format USER.txt and contain
one tweet per line.  Each file name, excluding the extension (i.e., ".txt"), is
the name of the user.  The path name of these files are provided by using command-line
arguments, and your program will need to extract the file name from the path if one
is given.  The tweets in the file each are in the format &lt;TIME&gt;:&lt;MESSAGE&gt;.
You may assume tweets are ordered from most to least recent and that no two files
contain tweets at the same time.</p>

<p>Implement each command listed below. Your code uses your <tt>SimpleLinkedList</tt>,
<tt>Timeline</tt>, <tt>Tweet</tt>, and <tt>TweetTooLongException</tt> classes, where
appropriate. The
<a href="assignments/p2/files/Twitter.java"><tt>Twitter.java</tt></a> file contains
the outline of the <tt>Twitter</tt> class. Download this file and use it as the
starting point for your <tt>Twitter</tt> program. In addition
to the command descriptions listed below, if the program user inputs an invalid command
display the error message "Invalid Command" and allow them to enter a new command.</p>


<p>The Twitter application commands are:</p>   

<table border="1" cellpadding="2" cellspacing="0">
<tbody>
  <tr>
    <th width="15%">Command format</th>
    <th width="85%">Description</th>
  </tr>
  <tr>
    <td align="center"><tt>list users</tt></td>
    <td>Display a list of all users, one per line and in same
    order as their files were entered on the command line.
    </td>
  </tr>
  <tr>
    <td align="center"><tt>list following</tt></td>
    <td>Display a list of the users you follow, one per line and in same
    order as their files were entered on the command line.
    </td>
  </tr>  
  <tr>
    <td align="center"><tt>follow <i>user</i></tt></td>
    <td>Adds <i>user</i> to the following list and updates the timeline. 
         If the user is already in the following list, display "Warning:
         User already followed".  If the user is invalid, display
         "Invalid user".
    </td>
    </tr>
  <tr>
    <td align="center"><tt>unfollow <i>user</i></tt></td>
    <td>Removes <i>user</i> to from the following list and updates the timeline. 
        If the user is not in the following list, display "Warning: User not followed".
        If the user is invalid, display "Invalid user".
    </td>
    </tr>
  <tr>
    <td align="center"><tt>search <i>string</i></tt></td>
    <td>Prints a list of all tweets, one tweet per line, in the timeline which contain
    <i>string</i>. 
    </td>
    </tr>
  <tr>
    <td align="center"><tt>print </tt></td>
    <td>Prints the timeline, one tweet per line.  
    </td>
    </tr>
  <tr>
    <td align="center"><tt>print <i>int</i></tt></td>
    <td>Prints the timeline for all tweets occurring since <i>int</i>, one tweet per line.  
    </td>
    </tr>
  <tr>
    <td align="center"><tt>quit</tt></td>
    <td>Exits the program. 
    </td>
    </tr>
</tbody>
</table>
<br/>


</div>
<div>

<a name="Steps"></a>
<h2>Steps</h2>

<p>After you have read this program page and given thought to the problem
we suggest the following steps:</p>

<ol>
  <li>If you are working with a partner, review the
      <a href="?r=coursework#pp">rules for pair programming</a>.</li>
  <li>Review these <a href="?r=styleGuide">style</a> and
      <a href="?r=commentingGuide">commenting</a> standards that are used to
      evaluate your program.</li>
  <li>You may use the Java development environment of your choice in CS 367.
      <em><b>However, all programs must compile and run on the lab computers
      for grading.</b></em> If you are going to use the CS
      <a href="?r=computerLabs">lab computers</a>, we recommend that you use
      Eclipse. You may want to review the
      <a href="http://pages.cs.wisc.edu/%7Ecs302/labs/EclipseTutorial/" target="_tab">Eclipse
      tutorial</a> to learn the basics. Note that on the Linux lab computers,
      you should enter "<tt>eclipse&amp;</tt>" at the prompt instead of what
      is described in the tutorial.</li>
  <li>Download the following to your programming assignment 2 directory:
      <ul>
        <li><a href="assignments/p2/files/DblListnode.java"><tt>DblListnode.java</tt></a></li>
        <li><a href="assignments/p2/files/ListADT.java"><tt>ListADT.java</tt></a></li>
        <li><a href="assignments/p2/files/Tweet.java"><tt>Tweet.java</tt></a></li>
        <li><a href="assignments/p2/files/Timeline.java"><tt>Timeline.java</tt></a></li>      
        <li><a href="assignments/p2/files/Twitter.java"><tt>Twitter.java</tt></a></li>  </li>
</ul>
  <li>Incrementally implement and thoroughly test your <tt>SimpleLinkedList&lt;E&gt;</tt>
      class and any additional supporting classes.
    It might help to test on simple objects like <tt>Integer</tt>s first.</li>
  <li>Incrementally implement the <tt>Twitter</tt> class as specified in
      the main program section above. Test each step to
      ensure your program is working correctly before implementing the next
      step. Create small text files for testing (it will be easier to debug
      than larger ones) and make sure you test all the boundary and negative
      cases.  
      <a name="InputFiles"></a> <em>Download these sample Tweet files,
      <a href="assignments/p2/files/Zach.txt">Zach.txt</a>,
      <a href="assignments/p2/files/Chris.txt">Chris.txt</a>,
      <a href="assignments/p2/files/Roney.txt">Roney.txt</a> 
      and make sure your program produces the <b>exact same</b> output as given in 
      the <a href="assignments/p2/files/sampleOutput.txt">sampleOutput.txt</a>.</em>
      </li>
  <li>If you are not using the lab computers to develop your program, make
      sure you compile and run your program to ensure that it works on the
      Linux lab computers. You can compile your Java source using <tt>javac</tt>
      in a terminal window as in this example: <dir><tt>javac *.java</tt></dir>
      and the run your program using <tt>java</tt> as in:

      <dir><tt>java Twitter  Chris.txt Roney.txt Zach.txt</tt></dir></li>

  <li>Submit your work for grading.</li>
</ol>


</div>
<div>

<a name="Submission"></a>
<h2>Submitting Your Work</h2>

<p>Make sure your code follows the <a href="?r=styleGuide">style</a> and
<a href="?r=commentingGuide">commenting</a> standards used in CS 302 and
CS 367.</p>

<p><a href="?r=coursework#Handin">Electronically submit</a> the following file
to your <b><tt>in</tt></b> "handin" directory by the due date and time (or
refer to the <a href="?r=coursework#Late">late policy</a>):</p>

<ul>
  <li>"<tt>Twitter.java</tt>" containing your Twitter application program,</li>
  <li>"<tt>SimpleLinkedList.java</tt>" containing your implementation of the <tt>SimpleLinkedList&lt;E&gt;</tt> class,
  <li>"<tt>TweetTooLongException.java</tt>" containing your implementation of the 
  <tt>TweetTooLongException</tt>" class</li>
 <li>"<tt>Tweet.java</tt>", containing your working Tweet class </li>
 <li>"<tt>Timeline.java</tt>", containing a SimpleLinkedList and enforcing correct order properties on it</li>
  <li>"<tt>*.java</tt>" additional classes that you've implemented for your program.</li>
  <br />
  <li>If you are working with a partner, only one partner submits the program 
      files, but <b>both partners must submit to his/her own hand-in directory
      a completed
      <a href="assignments/README.txt"><tt>README.txt</tt></a> file.</b>
      Students working in pairs must follow the 
      <a href="?r=coursework#pp">rules for pair programming</a>.</li>
</ul>

<p><em><b>Please turn in only the files named above.</b></em> Extra files 
clutter up the "handin" directories.</p>

</div>
</content>
